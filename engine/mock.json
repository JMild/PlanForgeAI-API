{
  "schema_version": "2.0.0",
  "timezone": "Asia/Bangkok",
  "generated_at": "2025-10-14T21:00:00",
  "calendar": {
    "holidays": ["2025-01-01"],
    "ot_windows": [
      {"start": "2025-10-18T17:00:00", "end": "2025-10-18T19:00:00"},
      {"start": "2025-10-18T20:00:00", "end": "2025-10-18T22:00:00"},
      {"start": "2025-10-19T17:00:00", "end": "2025-10-19T22:00:00"},
      {"start": "2025-10-20T17:00:00", "end": "2025-10-20T22:00:00"},
      {"start": "2025-10-21T17:00:00", "end": "2025-10-21T22:00:00"}
    ],
    "ot_cap_hours_per_day": 3,
    "machine_maintenances": [
      {"machine_id": "M_CUT_1", "start": "2025-10-15T12:00:00", "end": "2025-10-15T15:00:00"},
      {"machine_id": "M_MILL_1", "start": "2025-10-19T09:00:00", "end": "2025-10-19T11:00:00"}
    ]
  },
  "orders": [
    {
      "order_id": "ORD001",
      "due_date": "2025-10-20T17:00:00",
      "release_date": "2025-10-15T08:00:00",
      "priority": 1,
      "lines": [{"product_id": "P001", "quantity": 120, "priority": 1}]
    },
    {
      "order_id": "ORD002",
      "due_date": "2025-10-21T12:00:00",
      "release_date": "2025-10-15T08:30:00",
      "priority": 2,
      "lines": [{"product_id": "P002", "quantity": 80, "priority": 2}]
    },
    {
      "order_id": "ORD003",
      "due_date": "2025-10-22T17:00:00",
      "release_date": "2025-10-15T13:00:00",
      "priority": 2,
      "lines": [
        {"product_id": "P003", "quantity": 60, "priority": 2},
        {"product_id": "P001", "quantity": 40, "priority": 3}
      ]
    },
    {
      "order_id": "ORD004",
      "due_date": "2025-10-19T17:00:00",
      "release_date": "2025-10-16T08:00:00",
      "priority": 1,
      "lines": [{"product_id": "P004", "quantity": 100, "priority": 1}]
    },
    {
      "order_id": "ORD005",
      "due_date": "2025-10-21T10:00:00",
      "release_date": "2025-10-16T08:00:00",
      "priority": 3,
      "lines": [{"product_id": "P005", "quantity": 90, "priority": 3}]
    },
    {
      "order_id": "ORD006",
      "due_date": "2025-10-20T12:00:00",
      "release_date": "2025-10-16T13:00:00",
      "priority": 2,
      "lines": [{"product_id": "P002", "quantity": 70, "priority": 2}]
    },
    {
      "order_id": "ORD007",
      "due_date": "2025-10-22T10:00:00",
      "release_date": "2025-10-17T08:00:00",
      "priority": 2,
      "lines": [
        {"product_id": "P003", "quantity": 75, "priority": 2},
        {"product_id": "P005", "quantity": 30, "priority": 2}
      ]
    },
    {
      "order_id": "ORD008",
      "due_date": "2025-10-19T17:00:00",
      "release_date": "2025-10-17T08:00:00",
      "priority": 1,
      "lines": [{"product_id": "P001", "quantity": 55, "priority": 1}]
    },
    {
      "order_id": "ORD009",
      "due_date": "2025-10-21T09:00:00",
      "release_date": "2025-10-17T13:00:00",
      "priority": 3,
      "lines": [{"product_id": "P004", "quantity": 65, "priority": 3}]
    },
    {
      "order_id": "ORD010",
      "due_date": "2025-10-23T17:00:00",
      "release_date": "2025-10-18T08:00:00",
      "priority": 2,
      "lines": [
        {"product_id": "P002", "quantity": 85, "priority": 2},
        {"product_id": "P005", "quantity": 40, "priority": 2}
      ]
    },
    {
      "order_id": "ORD011",
      "due_date": "2025-10-22T13:00:00",
      "release_date": "2025-10-18T09:00:00",
      "priority": 1,
      "lines": [{"product_id": "P003", "quantity": 50, "priority": 1}]
    },
    {
      "order_id": "ORD012",
      "due_date": "2025-10-24T12:00:00",
      "release_date": "2025-10-18T13:00:00",
      "priority": 3,
      "lines": [
        {"product_id": "P001", "quantity": 40, "priority": 3},
        {"product_id": "P004", "quantity": 40, "priority": 3}
      ]
    }
  ],
  "products": [
    {"product_id": "P001", "name": "Widget A", "routing_id": "R001", "bom_id": "B001", "lot_size": 20},
    {"product_id": "P002", "name": "Widget B", "routing_id": "R002", "bom_id": "B002", "lot_size": 25},
    {"product_id": "P003", "name": "Gadget C", "routing_id": "R003", "bom_id": "B003", "lot_size": 30},
    {"product_id": "P004", "name": "Bracket D", "routing_id": "R004", "bom_id": "B004", "lot_size": 25},
    {"product_id": "P005", "name": "Assembly E", "routing_id": "R005", "bom_id": "B005", "lot_size": 15}
  ],
  "boms": [
    {"bom_id": "B001", "items": [{"material_id": "MAT_A", "qty_per_unit": 1.5}]},
    {"bom_id": "B002", "items": [{"material_id": "MAT_A", "qty_per_unit": 1.0}]},
    {"bom_id": "B003", "items": [{"material_id": "MAT_B", "qty_per_unit": 2.0}]},
    {"bom_id": "B004", "items": [{"material_id": "MAT_A", "qty_per_unit": 0.5}, {"material_id": "MAT_C", "qty_per_unit": 0.3}]},
    {"bom_id": "B005", "items": [{"product_id": "P001", "qty_per_unit": 0.2}, {"product_id": "P002", "qty_per_unit": 0.1}]}
  ],
  "materials": [
    {"material_id": "MAT_A", "uom": "kg", "on_hand": 800, "safety_stock": 50, "deliveries": [{"eta": "2025-10-18T08:00:00", "qty": 200}]},
    {"material_id": "MAT_B", "uom": "kg", "on_hand": 500, "safety_stock": 100, "deliveries": []},
    {"material_id": "MAT_C", "uom": "kg", "on_hand": 200, "safety_stock": 50, "deliveries": [{"eta": "2025-10-20T09:00:00", "qty": 150}]}
  ],
  "work_centers": [
    {"work_center_id": "WC_CUT",  "name": "Cutting",   "type": "CUTTING",   "parallel_machines": ["M_CUT_1","M_CUT_2"], "setup_matrix_id": "SETUP_MATRIX_CUT",  "default_setup_min": 8},
    {"work_center_id": "WC_MILL", "name": "Milling",   "type": "MILLING",   "parallel_machines": ["M_MILL_1"],          "setup_matrix_id": "SETUP_MATRIX_MILL", "default_setup_min": 6},
    {"work_center_id": "WC_DRILL","name": "Drilling",  "type": "DRILLING",  "parallel_machines": ["M_DRILL_1"],         "setup_matrix_id": "SETUP_MATRIX_DRILL","default_setup_min": 5},
    {"work_center_id": "WC_PAINT","name": "Painting",  "type": "PAINTING",  "parallel_machines": ["M_PAINT_1"],         "setup_matrix_id": "SETUP_MATRIX_PAINT","default_setup_min": 10, "setup_requires_operator": true, "run_requires_operator": true},
    {"work_center_id": "WC_ASM",  "name": "Assembly",  "type": "ASSEMBLY",  "parallel_machines": ["M_ASM_1"],           "default_setup_min": 3},
    {"work_center_id": "WC_QC",   "name": "Quality",   "type": "QC",        "parallel_machines": ["M_QC_1"],            "default_setup_min": 2}
  ],
  "machines": [
    {"machine_id": "M_CUT_1",   "work_center_id": "WC_CUT",   "efficiency": 0.95, "initial_state": "clean",  "shifts": ["S1","S2"]},
    {"machine_id": "M_CUT_2",   "work_center_id": "WC_CUT",   "efficiency": 0.92, "initial_state": "clean",  "shifts": ["S1","S2"]},
    {"machine_id": "M_MILL_1",  "work_center_id": "WC_MILL",  "efficiency": 0.90, "initial_state": "tool_A", "shifts": ["S1"]},
    {"machine_id": "M_DRILL_1", "work_center_id": "WC_DRILL", "efficiency": 0.88, "initial_state": "bit_6mm","shifts": ["S1","S2"]},
    {"machine_id": "M_PAINT_1", "work_center_id": "WC_PAINT", "efficiency": 0.90, "initial_state": "clean",  "requires_operator_for_run": true, "shifts": ["S1"]},
    {"machine_id": "M_ASM_1",   "work_center_id": "WC_ASM",   "efficiency": 1.00, "initial_state": "clean",  "shifts": ["S1","S2"]},
    {"machine_id": "M_QC_1",    "work_center_id": "WC_QC",    "efficiency": 1.10, "initial_state": "clean",  "shifts": ["S1","S2"]}
  ],
  "shifts": [
    {"shift_id": "S1","name": "Day",    "start_time": "08:00","end_time": "17:00","breaks": [{"start":"12:00","end":"13:00"}]},
    {"shift_id": "S2","name": "Evening","start_time": "17:00","end_time": "01:00","breaks": [{"start":"21:00","end":"21:30"}]},
    {"shift_id": "S3","name": "Night",  "start_time": "01:00","end_time": "08:00","breaks": [{"start":"04:00","end":"04:30"}]}
  ],
  "routings": [
    {
      "routing_id": "R001",
      "operations": [
        {"op_no":1,"name":"Cutting","work_center_id":"WC_CUT","proc_time_per_unit_min": 9,"setup_time_fixed_min":10,"setup_state_key":"MAT_A","batchable": true,"batch":{"min_batch_qty":20,"max_batch_qty":100}},
        {"op_no":2,"name":"Painting","work_center_id":"WC_PAINT","proc_time_per_unit_min":15,"setup_time_fixed_min":12,"setup_state_key":"color_red","batchable": true,"batch":{"min_batch_qty":10,"max_batch_qty":50},"preemptable": true,"preemption_overhead_min": 20},
        {"op_no":3,"name":"QC","work_center_id":"WC_QC","proc_time_per_unit_min": 2,"setup_time_fixed_min": 1,"setup_state_key":"clean","batchable": false}
      ]
    },
    {
      "routing_id": "R002",
      "operations": [
        {"op_no":1,"name":"Cutting","work_center_id":"WC_CUT","proc_time_per_unit_min": 8,"setup_time_fixed_min":10,"setup_state_key":"MAT_A","batchable": true,"batch":{"min_batch_qty":25,"max_batch_qty":90}},
        {"op_no":2,"name":"Milling","work_center_id":"WC_MILL","proc_time_per_unit_min": 6,"setup_time_fixed_min": 8,"setup_state_key":"tool_A","batchable": true,"batch":{"min_batch_qty":15,"max_batch_qty":60}},
        {"op_no":3,"name":"QC","work_center_id":"WC_QC","proc_time_per_unit_min": 2,"setup_time_fixed_min": 1,"setup_state_key":"clean","batchable": false}
      ]
    },
    {
      "routing_id": "R003",
      "operations": [
        {"op_no":1,"name":"Cutting","work_center_id":"WC_CUT","proc_time_per_unit_min": 7.5,"setup_time_fixed_min":10,"setup_state_key":"MAT_B","batchable": true,"batch":{"min_batch_qty":30,"max_batch_qty":100}},
        {"op_no":2,"name":"Drilling","work_center_id":"WC_DRILL","proc_time_per_unit_min": 4,"setup_time_fixed_min": 7,"setup_state_key":"bit_6mm","batchable": true,"batch":{"min_batch_qty":20,"max_batch_qty":80},"preemptable": true,"preemption_overhead_min": 10},
        {"op_no":3,"name":"Painting","work_center_id":"WC_PAINT","proc_time_per_unit_min":14,"setup_time_fixed_min":10,"setup_state_key":"color_blue","batchable": true,"batch":{"min_batch_qty":10,"max_batch_qty":40},"preemptable": true,"preemption_overhead_min": 15}
      ]
    },
    {
      "routing_id": "R004",
      "operations": [
        {"op_no":1,"name":"Milling","work_center_id":"WC_MILL","proc_time_per_unit_min": 5.5,"setup_time_fixed_min": 6,"setup_state_key":"tool_B","batchable": true,"batch":{"min_batch_qty":25,"max_batch_qty":100}},
        {"op_no":2,"name":"Drilling","work_center_id":"WC_DRILL","proc_time_per_unit_min": 3.5,"setup_time_fixed_min": 6,"setup_state_key":"bit_8mm","batchable": true,"batch":{"min_batch_qty":25,"max_batch_qty":100}},
        {"op_no":3,"name":"QC","work_center_id":"WC_QC","proc_time_per_unit_min": 1.5,"setup_time_fixed_min": 1,"setup_state_key":"clean","batchable": false}
      ]
    },
    {
      "routing_id": "R005",
      "operations": [
        {"op_no":1,"name":"Cutting","work_center_id":"WC_CUT","proc_time_per_unit_min": 6.5,"setup_time_fixed_min": 8,"setup_state_key":"MAT_A","batchable": true,"batch":{"min_batch_qty":15,"max_batch_qty":80}},
        {"op_no":2,"name":"Assembly","work_center_id":"WC_ASM","proc_time_per_unit_min":10,"setup_time_fixed_min": 5,"setup_state_key":"station_A","batchable": false},
        {"op_no":3,"name":"QC","work_center_id":"WC_QC","proc_time_per_unit_min": 2,"setup_time_fixed_min": 1,"setup_state_key":"clean","batchable": false}
      ]
    }
  ],
  "setup_matrices": [
    {
      "setup_matrix_id":"SETUP_MATRIX_CUT",
      "default_unit":"minutes",
      "matrix":{
        "clean":{"MAT_A":8,"MAT_B":10},
        "MAT_A":{"MAT_A":5,"MAT_B":12},
        "MAT_B":{"MAT_A":10,"MAT_B":6}
      }
    },
    {
      "setup_matrix_id":"SETUP_MATRIX_MILL",
      "default_unit":"minutes",
      "matrix":{
        "tool_A":{"tool_A":3,"tool_B":12},
        "tool_B":{"tool_A":12,"tool_B":3},
        "clean":{"tool_A":8,"tool_B":8}
      }
    },
    {
      "setup_matrix_id":"SETUP_MATRIX_DRILL",
      "default_unit":"minutes",
      "matrix":{
        "bit_6mm":{"bit_6mm":2,"bit_8mm":9},
        "bit_8mm":{"bit_6mm":9,"bit_8mm":2},
        "clean":{"bit_6mm":6,"bit_8mm":6}
      }
    },
    {
      "setup_matrix_id":"SETUP_MATRIX_PAINT",
      "default_unit":"minutes",
      "matrix":{
        "color_red":{"color_red":4,"color_blue":30},
        "color_blue":{"color_red":28,"color_blue":5},
        "clean":{"color_red":10,"color_blue":10}
      }
    }
  ],
  "preference_settings": {
    "allow_job_preemption": true,
    "preemption_global_penalty": 100.0,
    "batch_priority": "reduce_setups",
    "merge_orders_for_batching": true
  },
  "settings": {
    "objective_weights": {
      "makespan": 1.0,
      "tardiness": 10.0,
      "setup_cost": 5.0,
      "preemption_cost": 50.0,
      "batching_benefit": -2.0
    },
    "time_unit": "minutes"
  },
  "speed_overrides": [
    {"key": ["M_CUT_1","P001","Cutting"], "multiplier": 1.10},
    {"key": ["M_DRILL_1","P003","Drilling"], "multiplier": 1.15}
  ]
}
